# PDF Image Extractor

Веб-сервис для извлечения изображений, графиков и диаграмм из PDF документов с использованием традиционных методов и AI-обнаружения (YOLO).

## Установка

### Базовая установка

```bash
# Клонирование репозитория
git clone <url-репозитория>
cd pdf-image-extractor

# Установка базовых зависимостей
pip install -e .
```

### Установка с поддержкой YOLO (AI-обнаружение)

```bash
# Установка с дополнительными зависимостями для YOLO
pip install -e ".[yolo]"
```

Или вручную установите ultralytics:

```bash
pip install ultralytics
```

## Запуск сервера

```bash
python main.py
```

По умолчанию сервер будет доступен по адресу: http://localhost:8000

## Использование

1. Откройте браузер и перейдите по адресу http://localhost:8000
2. Выберите метод обнаружения:
   - **Традиционный** - использует алгоритмический подход для обнаружения графиков
   - **YOLO (AI)** - использует нейронную сеть YOLO для обнаружения объектов на страницах
3. Загрузите PDF файл через веб-интерфейс
4. Дождитесь извлечения изображений
5. Просмотрите извлеченные графики и диаграммы на странице
6. Нажмите на изображение для увеличения и детального просмотра

## Методы обнаружения графиков

### Традиционный метод

Использует комбинацию следующих подходов:
- Анализ векторной графики для обнаружения осей, линий и столбцов
- Поиск текстовых блоков для заголовков, легенд и меток
- Анализ изображений для обнаружения характерных черт графиков

### Метод YOLO (AI)

Использует нейронную сеть YOLO для обнаружения графиков как объектов:
- Преобразует страницы PDF в изображения
- Применяет предобученную модель YOLO для обнаружения объектов
- Выделяет и извлекает области, содержащие графики

## Структура проекта

- `main.py` - FastAPI приложение и веб-сервер
- `pdf_image_extractor.py` - Основной функционал для извлечения изображений
- `yolo_detector.py` - Функционал для обнаружения графиков с помощью YOLO
- `templates/` - HTML шаблоны для веб-интерфейса
- `static/` - Статические файлы (CSS, JS, изображения)
- `uploads/` - Временная директория для загрузки PDF файлов

## Настройка YOLO-модели

По умолчанию используется предобученная модель YOLOv8n. Для использования собственной модели:

1. Поместите файл модели в директорию проекта
2. Укажите путь к модели в параметре `yolo_model_path` функции `extract_images_from_pdf`

## Требования

- Python 3.9+
- PyMuPDF (для работы с PDF)
- FastAPI (для веб-сервера)
- Ultralytics (для YOLO, опционально)
- OpenCV и PIL (для анализа изображений, опционально) 